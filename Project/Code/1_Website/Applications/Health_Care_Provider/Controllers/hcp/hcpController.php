<?phprequire_once 'Project/Code/ApplicationsFramework/MVC_superClasses/applicationsSuperController.php';require_once 'Project/Code/System/HealthCare_Provider/image/image.php';require_once 'Project/Code/1_Website/Pages/primary/seeker/Modules/seekerSession.php';require_once 'Project/Code/1_Website/Pages/primary/seeker/Modules/seekerObject.php';require_once 'Project/Code/1_Website/Applications/Results/Modules/resultsModule.php';require_once 'Project/Code/System/HealthCare_Provider/image/image.php';require_once 'Project/Code/System/HealthCare_Provider/image/images.php';require_once 'Project/Code/System/HealthCare_Provider/ammenity/amenity.php';require_once 'Project/Code/System/HealthCare_Provider/ammenity/amenities.php';require_once('hcpView.php');class hcpController extends applicationsSuperController{		public function indexAction()	{		//$this->permalink($_SERVER['REQUEST_URI']); die;		$view = new hcpView();				$uri = parse_url($_SERVER['REQUEST_URI']);		$uri = explode('/', $uri['path']);		if((count($uri) > 3) && ($uri[3] == strtotime('now')))		{			$view->uri = $uri;			$view->displayThankYouPopUp();		}									require_once 'Project/Code/1_Website/Applications/Search/Modules/handler.php';		set_error_handler(array($this, 'hcpErrorHandler'));				$health_care_provider_id = handler::permalink($_SERVER['REQUEST_URI']);			if ($health_care_provider_id)		{			require_once 'Project/Code/System/HealthCare_Provider/healthcare_providers.php';							$hcp_model = new healthcare_provider();			$hcp_model->__set('hcp_id', $health_care_provider_id);			$health_care_provider_array = $hcp_model->select();						$images = new hcp_images();			$images->__set('hcp_id', $health_care_provider_id);			$array_of_images = $images->select();						$amenities_category = new hcp_amenities();			$array_of_amenities_categories = $amenities_category->selectAllamenitiesCategories();						$amenities = new hcp_amenity();			$array_of_amenities = $amenities->selectHcpAmenities($health_care_provider_id);						if (is_array($health_care_provider_array))			{				$view->_set('state', $hcp_model->__get('state'));				$view->_set('city', $hcp_model->__get('city'));				$view->_set('zipcode', $hcp_model->__get('zipcode'));								$view->_set('hcp_images', $array_of_images);				$view->_set('amenities_categories', $array_of_amenities_categories);				$view->_set('amenities', $array_of_amenities);				$view->_set('health_care_provider_info_array', $health_care_provider_array);				$view->showHealthCareProvider();			}		}		else			header('location: /');	}		public function testAction()	{		echo crypt('mon baldonado',CRYPT_SHA256);			}		function hcpErrorHandler($errno, $errstr, $errfile, $errline) //We should put this somewhere global	{		switch ($errno)		{			case E_USER_ERROR:				die('user');				break;			case E_USER_WARNING:				die('user_warning');				break;			case E_USER_NOTICE:				die('user_notice');				break;		}			return true;	}			}?>